(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b632626"],{"77f9":function(e,a,t){"use strict";t("9533")},9533:function(e,a,t){},aa86:function(e,a,t){"use strict";t.r(a);var l=t("f2bf");const n={class:"homeInfo"},o=Object(l["p"])(" 00.0. "),r=Object(l["n"])("div",{id:"mapApp2",class:"mapApp",style:{width:"100%",height:"100%"}},null,-1),i={class:"homeInfoCar"},s={style:{display:"flex","align-items":"center"}},c=Object(l["p"])("重新播放"),u={style:{width:"500px",height:"15px",margin:"0 20px"}},d={style:{display:"flex"}},m={class:"flex space-between"},p=Object(l["n"])("div",null,null,-1);function v(e,a,t,v,b,f){const g=Object(l["W"])("a-button"),O=Object(l["W"])("a-slider"),h=Object(l["W"])("FastBackwardOutlined"),y=Object(l["W"])("PauseOutlined"),j=Object(l["W"])("CaretRightOutlined"),w=Object(l["W"])("FastForwardOutlined"),x=Object(l["W"])("a-table"),k=Object(l["W"])("a-pagination");return Object(l["N"])(),Object(l["m"])("div",n,[o,r,Object(l["n"])("div",i,[Object(l["n"])("div",null,[Object(l["n"])("div",s,[Object(l["q"])(g,{size:"Default",type:"warning",onClick:e.startAnimation},{default:Object(l["ib"])(()=>[c]),_:1},8,["onClick"]),Object(l["n"])("div",u,[Object(l["q"])(O,{value:e.sliderValue,"onUpdate:value":a[0]||(a[0]=a=>e.sliderValue=a),"tooltip-visible":!0,onChange:e.ChangeAnimation,onAfterChange:e.afterChangeAnimation,style:{width:"500px",height:"15px",margin:"0 20px"}},null,8,["value","onChange","onAfterChange"])]),Object(l["n"])("div",d,[Object(l["q"])(h,{style:{color:"#12a3f5","font-size":"28px"},title:"减速行驶",onClick:e.linebackspeedMIN},null,8,["onClick"]),e.PauseOutlinedFlag?(Object(l["N"])(),Object(l["k"])(y,{key:0,style:{color:"#12a3f5","font-size":"28px"},title:"暂停行驶",onClick:e.pauseAnimation},null,8,["onClick"])):(Object(l["N"])(),Object(l["k"])(j,{key:1,style:{color:"#12a3f5","font-size":"28px"},title:"继续行驶",onClick:e.resumeAnimation},null,8,["onClick"])),Object(l["q"])(w,{style:{color:"#12a3f5","font-size":"28px"},title:"加速行驶",onClick:e.linebackspeedMAX},null,8,["onClick"])])])]),Object(l["q"])(x,{size:"small",columns:e.columns,"data-source":e.tableData[e.tableDataIndex],border:"",style:{width:"100%"},rowClassName:e.setRowClass,scroll:{x:1500},pagination:!1,id:"Export"},null,8,["columns","data-source","rowClassName"]),Object(l["n"])("div",m,[p,Object(l["q"])(k,{current:e.tableDataIndex,"onUpdate:current":a[1]||(a[1]=a=>e.tableDataIndex=a),total:e.tableDataTotal,"page-size":5},null,8,["current","total"])])])])}var b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"},f=b,g=t("b3f0");function O(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),l.forEach((function(a){h(e,a,t[a])}))}return e}function h(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var y=function(e,a){var t=O({},e,a.attrs);return Object(l["q"])(g["a"],O({},t,{icon:f}),null)};y.displayName="PauseOutlined",y.inheritAttrs=!1;var j=y,w={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},x=w;function k(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),l.forEach((function(a){A(e,a,t[a])}))}return e}function A(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var z=function(e,a){var t=k({},e,a.attrs);return Object(l["q"])(g["a"],k({},t,{icon:x}),null)};z.displayName="CaretRightOutlined",z.inheritAttrs=!1;var M=z,C={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M793.8 499.3L506.4 273.5c-10.7-8.4-26.4-.8-26.4 12.7v451.6c0 13.5 15.7 21.1 26.4 12.7l287.4-225.8a16.14 16.14 0 000-25.4zm-320 0L186.4 273.5c-10.7-8.4-26.4-.8-26.4 12.7v451.5c0 13.5 15.7 21.1 26.4 12.7l287.4-225.8c4.1-3.2 6.2-8 6.2-12.7 0-4.6-2.1-9.4-6.2-12.6zM857.6 248h-51.2c-3.5 0-6.4 2.7-6.4 6v516c0 3.3 2.9 6 6.4 6h51.2c3.5 0 6.4-2.7 6.4-6V254c0-3.3-2.9-6-6.4-6z"}}]},name:"fast-forward",theme:"outlined"},S=C;function P(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),l.forEach((function(a){I(e,a,t[a])}))}return e}function I(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var E=function(e,a){var t=P({},e,a.attrs);return Object(l["q"])(g["a"],P({},t,{icon:S}),null)};E.displayName="FastForwardOutlined",E.inheritAttrs=!1;var F=E,D={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M517.6 273.5L230.2 499.3a16.14 16.14 0 000 25.4l287.4 225.8c10.7 8.4 26.4.8 26.4-12.7V286.2c0-13.5-15.7-21.1-26.4-12.7zm320 0L550.2 499.3a16.14 16.14 0 000 25.4l287.4 225.8c10.7 8.4 26.4.8 26.4-12.7V286.2c0-13.5-15.7-21.1-26.4-12.7zm-620-25.5h-51.2c-3.5 0-6.4 2.7-6.4 6v516c0 3.3 2.9 6 6.4 6h51.2c3.5 0 6.4-2.7 6.4-6V254c0-3.3-2.9-6-6.4-6z"}}]},name:"fast-backward",theme:"outlined"},T=D;function N(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),l.forEach((function(a){W(e,a,t[a])}))}return e}function W(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var q=function(e,a){var t=N({},e,a.attrs);return Object(l["q"])(g["a"],N({},t,{icon:T}),null)};q.displayName="FastBackwardOutlined",q.inheritAttrs=!1;var B=q,V=t("5502"),R=t("d7fc"),J=Object(l["r"])({name:"BusinessManagement",components:{PauseOutlined:j,CaretRightOutlined:M,FastForwardOutlined:F,FastBackwardOutlined:B},setup(){const e=Object(V["b"])();Object(l["S"])(null);e.dispatch("map/AmapInit").then(e=>{e.init("mapApp2",{rotateEnable:!1,pitchEnable:!0,resizeEnable:!0,zoom:10,viewMode:"3D",zooms:[2,20],skyColor:"#002d56",center:[120.294189,30.161941]})});const a=Object(l["i"])(()=>e.state.map.Amap),t=Object(l["S"])(null),n=Object(l["S"])([]),o=Object(l["S"])(0),r=Object(l["S"])(1),i=Object(l["S"])(5),s=Object(l["S"])(1),c=Object(l["S"])(0),u=Object(l["S"])(!1),d=Object(l["S"])(!1),m=Object(l["S"])(0),p=Object(l["S"])(1e3),v=(Object(l["S"])(0),[{title:"name",dataIndex:"name"},{title:"style",dataIndex:"style",width:120},{title:"经纬度",dataIndex:"lnglat",width:200},{title:"地址",dataIndex:"address"}]);var b=null,f=[],g=[],O=[],h=null;setTimeout(()=>{x()},500);const y=e=>{current.value=e},j=()=>{barPromoteFlag.value=!0},w=(e,a)=>{let t=[],l=0;for(let n=0;n<=e.length;n++)n%a==0&&0!=n&&(t.push(e.slice(l,n)),l=n),n+1==e.length&&t.push(e.slice(l,n+1));return t},x=async()=>{M(!1),c.value=0,b&&(a.value.amap.remove(b),b=null),u.value=!0;let e=R["a"];console.log(e),d.value=!0,o.value=e.length,n.value=[[],...w(e,5)],f=e.map(e=>({value:e.lnglat,color:e.color,address:e.address})),a.value.amap.setZoomAndCenter(14,f[0].value),k()},k=()=>{b&&a.value.amap.remove(b),b=new AMap.Marker({position:f[0].value,icon:"https://webapi.amap.com/images/car.png",offset:new AMap.Pixel(-13,-13),autoRotation:!0,angle:-90,zIndex:200}),a.value.amap.setZoomAndCenter(16,f[0].value),b.on("moving",e=>{let t=new AMap.Polyline({map:a.value.amap,strokeWeight:5,lineJoin:"round",strokeColor:f[s.value].color,zIndex:110,path:e.passedPath});O.push({keys:s.value,value:t})}),b.on("moveend",e=>{s.value++,A()}),a.value.amap.add(b),s.value=1,A()},A=()=>{h&&clearTimeout(h),s.value!=f.length-1&&u.value&&(f[s.value-1].value[0]==f[s.value].value[0]?h=setTimeout(()=>{let e=new AMap.Polyline({map:a.value.amap,strokeWeight:5,lineJoin:"round",strokeColor:f[s.value].color,zIndex:110});e.setPath([f[s.value-1].value,f[s.value].value]),O.push({keys:s.value,value:e});let t=new AMap.Marker({map:a.value.amap,position:f[s.value].value,offset:new AMap.Pixel(-5,-5),icon:new AMap.Icon({image:"https://a.amap.com/jsapi_demos/static/images/mass2.png",size:new AMap.Size(10,10),imageSize:new AMap.Size(10,10)}),zIndex:113});g.push({keys:s.value,value:t}),s.value++,A()},300):z(1))},z=()=>{if(!u.value)return;let e=new AMap.Marker({map:a.value.amap,position:f[s.value-1].value,offset:new AMap.Pixel(-4,-4),icon:new AMap.Icon({image:"https://a.amap.com/jsapi_demos/static/images/mass2.png",size:new AMap.Size(8,8),imageSize:new AMap.Size(8,8)}),zIndex:113});e.setTitle(f[s.value].address),g.push({keys:s.value,value:e}),b.moveTo(f[s.value].value,p.value,(function(e){return e}))},M=e=>{if(e){u.value=!1;let e=a.value.getMarker("car");a.value.amap.add(e.map(e=>e.value)),emitter.emit("CheckcomponentName","monitor")}b&&(a.value.amap.remove(b),b=null),f&&(b=[]),g.length&&(a.value.amap.remove(g.map(e=>e.value)),g=[]),O.length&&(a.value.amap.remove(O.map(e=>e.value)),O=[]),s.value=1,c.value=0};const C=e=>{e,F()},S=e=>f.length?f[s.value-1].address+" (路程行驶 "+c.value+"%)":"准备出发",P=e=>{F()},I=e=>{let t=a.value.amap,l=parseInt(f.length*(e/100));if(s.value==l);else if(s.value>l){let e=g.filter(e=>e.keys>l).map(e=>e.value),a=O.filter(e=>e.keys>l).map(e=>e.value);g=g.filter(e=>e.keys>l),O=O.filter(e=>e.keys>l),t.remove(e),t.remove(a)}else for(let a=s.value;a<l;a++){let e=new AMap.Polyline({path:[f[a-1].value,f[a].value],map:t,strokeWeight:5,lineJoin:"round",strokeColor:f[a].color,zIndex:110});O.push({keys:a,value:e});let l=new AMap.Marker({map:t,position:f[a].value,offset:new AMap.Pixel(-4,-4),icon:new AMap.Icon({image:"https://a.amap.com/jsapi_demos/static/images/mass2.png",size:new AMap.Size(8,8),imageSize:new AMap.Size(8,8)}),zIndex:113});g.push({keys:a,value:l})}s.value=l+1,b.setPosition(f[l].value),u.value=!0,A()},E=()=>{f.length?(b.pauseMove(),u.value=!1,M(!1),h&&clearTimeout(h),setTimeout(()=>{u.value=!0,k(1)},400)):message.error("暂无行驶轨迹！")},F=()=>{b.pauseMove(),u.value=!1},D=()=>{h&&clearTimeout(h),setTimeout(()=>{u.value=!0,A()},400)},T=()=>{p.value>=1e4||(p.value+=500)},N=()=>{p.value<=1e3||(p.value-=500)};Object(l["gb"])(s,e=>{if(r.value=(e+1)/5<=1?1:Math.ceil((e+1)/5),e==f.length-1)return c.value=100;let a=e/(f.length+1)*100;c.value=parseInt(a)});const W=(e,a)=>5*(r.value-1)+a==s.value?"tableActive":"",q=e=>{r.value=e};return{tableData:n,columns:v,tableDataTotal:o,tableDataIndex:r,tableDataSize:i,sliderRef:t,sliderValue:c,totalmileage:m,PauseOutlinedFlag:u,ChangeAnimation:P,inputAnimation:C,afterChangeAnimation:I,formatTooltip:S,currentChange:q,handleTableChange:y,SpoUppolyline:x,SetUpbarPromoteFlag:j,startAnimation:E,pauseAnimation:F,resumeAnimation:D,linebackspeedMAX:T,linebackspeedMIN:N,closePolyline:M,setRowClass:W}}}),L=(t("77f9"),t("6b0d")),U=t.n(L);const _=U()(J,[["render",v]]);a["default"]=_},d7fc:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));const l=[{lnglat:[120.297107,30.160902],style:0,address:"浙江省杭州市萧山区新塘街道新塘派出所油树下社区警务室",name:"浙江省杭州市萧山区新塘街道新塘派出所油树下社区警务室",index:0,color:"#E162EF"},{lnglat:[120.299553,30.15953],style:1,address:"浙江省杭州市萧山区新塘街道阮家埭",name:"浙江省杭州市萧山区新塘街道阮家埭",index:1,color:"#f60"},{lnglat:[120.29981,30.1576],style:0,address:"浙江省杭州市萧山区新塘街道油树下青年众创社区",name:"浙江省杭州市萧山区新塘街道油树下青年众创社区",index:2,color:"#12a3f5"},{lnglat:[120.329639,30.155003],style:1,address:"浙江省杭州市萧山区新塘街道阮家埭",name:"浙江省杭州市萧山区新塘街道阮家埭",index:3,color:"#f60"},{lnglat:[120.299167,30.156821],style:0,address:"浙江省杭州市萧山区新塘街道健身广场浙江恒迪寝具有限公司(柳桥集团)",name:"浙江省杭州市萧山区新塘街道健身广场浙江恒迪寝具有限公司(柳桥集团)",index:4,color:"#12a3f5"},{lnglat:[120.35642,30.26561],style:1,address:"浙江省杭州市钱塘区白杨街道钱塘轮滑中心",name:"浙江省杭州市钱塘区白杨街道钱塘轮滑中心",index:5,color:"#f60"},{lnglat:[120.296592,30.257266],style:0,address:"浙江省杭州市萧山区顺坝垦区钱宁线",name:"浙江省杭州市萧山区顺坝垦区钱宁线",index:6,color:"#E162EF"},{lnglat:[120.294189,30.161941],style:1,address:"浙江省杭州市萧山区新塘街道杭州市萧山区新塘街道油树下社区居民委员会",name:"浙江省杭州市萧山区新塘街道杭州市萧山区新塘街道油树下社区居民委员会",index:7,color:"#f60"},{lnglat:[120.294189,30.261941],style:0,address:"浙江省杭州市萧山区顺坝垦区宁围街道顺坝村过渡房",name:"浙江省杭州市萧山区顺坝垦区宁围街道顺坝村过渡房",index:8,color:"#12a3f5"},{lnglat:[120.297189,30.163948],style:1,address:"浙江省杭州市萧山区顺坝垦区浙江省集成电路创新平台(3号门)",name:"浙江省杭州市萧山区顺坝垦区浙江省集成电路创新平台(3号门)",index:9,color:"#f60"},{lnglat:[120.300189,30.25941],style:0,address:"浙江省杭州市临平区南苑街道临平出口(S2杭甬高速东北向)",name:"浙江省杭州市临平区南苑街道临平出口(S2杭甬高速东北向)",index:10,color:"#12a3f5"},{lnglat:[120.303189,30.37941],style:1,address:"浙江省杭州市萧山区新塘街道里自横河绿道翠悦半岛",name:"浙江省杭州市萧山区新塘街道里自横河绿道翠悦半岛",index:11,color:"#f60"},{lnglat:[120.306189,30.169948],style:0,address:"浙江省杭州市萧山区新塘街道萧绍路207号",name:"浙江省杭州市萧山区新塘街道萧绍路207号",index:12,color:"#E162EF"},{lnglat:[120.309189,30.101941],style:1,address:"浙江省杭州市萧山区所前镇杭州国夫烟酒茶行",name:"浙江省杭州市萧山区所前镇杭州国夫烟酒茶行",index:13,color:"#f60"},{lnglat:[120.322189,30.283941],style:0,address:"浙江省杭州市钱塘区下沙街道钱塘江滨绿道",name:"浙江省杭州市钱塘区下沙街道钱塘江滨绿道",index:14,color:"#12a3f5"},{lnglat:[120.335189,30.259409],style:1,address:"浙江省杭州市钱塘区白杨街道之江绿道萧山东段",name:"浙江省杭州市钱塘区白杨街道之江绿道萧山东段",index:15,color:"#f60"},{lnglat:[120.388189,30.1679497],style:0,address:"浙江省杭州市萧山区衙前镇兴发路38号",name:"浙江省杭州市萧山区衙前镇兴发路38号",index:16,color:"#12a3f5"},{lnglat:[120.297918,30.149544],style:1,address:"浙江省杭州市萧山区新塘街道好又多(一都孙店)",name:"浙江省杭州市萧山区新塘街道好又多(一都孙店)",index:17,color:"#f60"},{lnglat:[120.300918,30.151544],style:0,address:"浙江省杭州市萧山区新塘街道新城路",name:"浙江省杭州市萧山区新塘街道新城路",index:18,color:"#E162EF"},{lnglat:[120.303918,30.153544],style:1,address:"浙江省杭州市萧山区新塘街道里自横河绿道新塘高铁公园",name:"浙江省杭州市萧山区新塘街道里自横河绿道新塘高铁公园",index:19,color:"#f60"},{lnglat:[120.306918,30.155544],style:0,address:"浙江省杭州市萧山区新塘街道杭州久万羽绒有限公司",name:"浙江省杭州市萧山区新塘街道杭州久万羽绒有限公司",index:20,color:"#12a3f5"},{lnglat:[120.309918,30.157544],style:1,address:"浙江省杭州市萧山区新塘街道东瑞四路智新塘文化创意园",name:"浙江省杭州市萧山区新塘街道东瑞四路智新塘文化创意园",index:21,color:"#f60"},{lnglat:[120.312918,30.159544],style:0,address:"浙江省杭州市萧山区新塘街道湖中路480号浙江建峰装饰",name:"浙江省杭州市萧山区新塘街道湖中路480号浙江建峰装饰",index:22,color:"#12a3f5"},{lnglat:[120.315918,30.161544],style:1,address:"浙江省杭州市萧山区新塘街道萧山绒毛厂",name:"浙江省杭州市萧山区新塘街道萧山绒毛厂",index:23,color:"#f60"},{lnglat:[120.318918,30.16354],style:0,address:"浙江省杭州市萧山区新塘街道三松庙",name:"浙江省杭州市萧山区新塘街道三松庙",index:24,color:"#E162EF"},{lnglat:[120.321918,30.165544],style:1,address:"浙江省杭州市萧山区新塘街道烧烤油炸串",name:"浙江省杭州市萧山区新塘街道烧烤油炸串",index:25,color:"#f60"}]}}]);