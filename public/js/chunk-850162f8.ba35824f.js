(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-850162f8"],{5970:function(e,t,n){"use strict";n("6fb2")},"6dee":function(e,t,n){"use strict";n.r(t);var i=n("f2bf"),o=n("83ce"),a=n.n(o);const l=e=>(Object(i["Q"])("data-v-d1d3ef2c"),e=e(),Object(i["O"])(),e),r={class:"loginBox"},s={class:"login_title"},d={class:"loginTitle"},c={class:"project-name"},u={class:"flex"},f=Object(i["p"])("Submit "),m=l(()=>Object(i["n"])("div",{class:"loginloadingImg"},[Object(i["n"])("img",{src:a.a,alt:"",style:{width:"100%"}})],-1)),h=l(()=>Object(i["n"])("p",null,"飞速登录中...",-1)),b=[m,h];function p(e,t,n,o,a,l){const m=Object(i["W"])("a-input"),h=Object(i["W"])("a-form-item"),p=Object(i["W"])("a-input-password"),g=Object(i["W"])("identifyCodeView"),j=Object(i["W"])("a-button"),O=Object(i["W"])("a-form");return Object(i["N"])(),Object(i["m"])("div",r,[Object(i["n"])("div",{class:Object(i["B"])(["login",o.classFun1()])},[Object(i["n"])("div",s,[Object(i["n"])("div",d,[Object(i["n"])("span",c,[(Object(i["N"])(!0),Object(i["m"])(i["b"],null,Object(i["U"])(o.appname,(e,t)=>(Object(i["N"])(),Object(i["m"])("span",{class:"dynamicText",key:t},Object(i["Z"])(e),1))),128))])])]),Object(i["q"])(O,{ref:"formRef",model:o.formState,name:"basic","label-col":{span:6},"wrapper-col":{span:16},autocomplete:"off"},{default:Object(i["ib"])(()=>[Object(i["q"])(h,{label:"账号",name:"account",rules:[{required:!0,message:"账号"}]},{default:Object(i["ib"])(()=>[Object(i["q"])(m,{value:o.formState.account,"onUpdate:value":t[0]||(t[0]=e=>o.formState.account=e),size:"large"},null,8,["value"])]),_:1}),Object(i["q"])(h,{label:"密码",name:"password",rules:[{required:!0,message:"密码"}]},{default:Object(i["ib"])(()=>[Object(i["q"])(p,{value:o.formState.password,"onUpdate:value":t[1]||(t[1]=e=>o.formState.password=e),size:"large"},null,8,["value"])]),_:1}),Object(i["q"])(h,{label:"验证码",name:"verifyCode",rules:[{required:!0,message:"验证码"}]},{default:Object(i["ib"])(()=>[Object(i["n"])("div",null,[Object(i["n"])("div",u,[Object(i["q"])(m,{value:o.formState.verifyCode,"onUpdate:value":t[2]||(t[2]=e=>o.formState.verifyCode=e),size:"large",maxlength:4,style:{width:"50%"}},null,8,["value"]),Object(i["q"])(g,{ref:"identifyCodeViewRef"},null,512)])])]),_:1}),Object(i["q"])(h,{"wrapper-col":{offset:6,span:16}},{default:Object(i["ib"])(()=>[Object(i["q"])(j,{type:"primary","html-type":"submit",class:"width100",size:"large",onClick:o.startAnimation},{default:Object(i["ib"])(()=>[f]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])],2),Object(i["n"])("div",{class:Object(i["B"])(["loginloading",o.classFun2()])},b,2)])}var g=n("4360");const j=["width","height"];function O(e,t,n,o,a,l){return Object(i["N"])(),Object(i["m"])("div",{class:"s-canvas pointer",onClick:t[0]||(t[0]=(...e)=>l.refreshCode&&l.refreshCode(...e)),style:Object(i["D"])("height:"+n.contentHeight+"px")},[Object(i["n"])("canvas",{id:"s-canvas",width:n.contentWidth,height:n.contentHeight},null,8,j)],4)}var v={name:"SIdentify",props:{fontSizeMin:{type:Number,default:18},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:111},contentHeight:{type:Number,default:40}},data(){return{identifyCodes:["0","1","2","3","4","5","6","7","8","9"],identifyCode:""}},methods:{refreshCode(){this.identifyCode="",this.makeCode(4)},makeCode(e){for(let t=0;t<e;t++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length-1)];this.drawPic()},randomNum(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor(e,t){let n=this.randomNum(e,t),i=this.randomNum(e,t),o=this.randomNum(e,t);return"rgb("+n+","+i+","+o+")"},drawPic(){let e=document.getElementById("s-canvas"),t=e.getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(let n=0;n<this.identifyCode.length;n++)this.drawText(t,this.identifyCode[n],n)},drawText(e,t,n){e.fillStyle=this.randomColor(this.colorMin,this.colorMax),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";let i=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),o=this.randomNum(this.fontSizeMax,this.contentHeight-5);var a=this.randomNum(-30,30);e.translate(i,o),e.rotate(a*Math.PI/180),e.fillText(t,0,0),e.rotate(-a*Math.PI/180),e.translate(-i,-o)},drawLine(e){for(let t=0;t<8;t++)e.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot(e){for(let t=0;t<100;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()},getCode(){return this.identifyCode}},mounted(){this.refreshCode()}},C=n("6b0d"),y=n.n(C);const N=y()(v,[["render",O]]);var S=N,w=n("f64c"),M={components:{identifyCodeView:S},setup(){const e=g["a"].getters.appName,t=Object(i["S"])(),n=Object(i["S"])(),o=Object(i["S"])(null),a=Object(i["S"])({account:"admin",password:"admin",verifyCode:""}),l=Object(i["S"])([]),r=Object(i["S"])([]),s=()=>l.value.join(" "),d=()=>r.value.join(" "),c=()=>{n.value.validate().then(e=>{const t=o.value.getCode();if(t!=a.value.verifyCode)return w["a"].error("验证码不对");l.value.push("loginStart"),setTimeout((function(){l.value.push("loginEnd"),r.value.push("loginloadingStart")}),300),setTimeout((function(){r.value.push("loginloadingEnd")}),310),setTimeout((function(){g["a"].dispatch("userinfo/appLogin")}),1500)}).catch(e=>{e&&e.errorFields&&e.errorFields.length&&w["a"].error("请填写"+e.errorFields[0].errors[0])})},u=()=>{r.value=r.value.filter(e=>"loginloadingEnd"!==e),setTimeout((function(){l.value=l.value.filter(e=>"loginEnd"!==e),r.value=r.value.filter(e=>"loginloadingStart"!==e)}),180),setTimeout((function(){l.value=l.value.filter(e=>"loginStart"!==e)}),200)};return{appname:e,formState:a,ruleFormRef:t,formRef:n,identifyCodeViewRef:o,classFun1:s,classFun2:d,startAnimation:c,endAnimation:u}}};n("5970"),n("826a");const x=y()(M,[["render",p],["__scopeId","data-v-d1d3ef2c"]]);t["default"]=x},"6fb2":function(e,t,n){},"826a":function(e,t,n){"use strict";n("b25a")},"83ce":function(e,t,n){e.exports=n.p+"public/img/loading.9202f5d0.gif"},b25a:function(e,t,n){}}]);