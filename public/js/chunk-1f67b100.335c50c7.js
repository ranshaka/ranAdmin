(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f67b100"],{"1f82":function(e,t,a){"use strict";a.r(t);var c=a("f2bf"),i=a("ceb7"),n=a("68c7");a("ed08");const r=e=>(Object(c["Q"])("data-v-1fefce29"),e=e(),Object(c["O"])(),e),d={class:"ant-content"},h={class:"style"},s=r(()=>Object(c["n"])("div",null,null,-1)),l=r(()=>Object(c["n"])("div",{class:"flex space-between margin-bottom-1x"},[Object(c["n"])("div",null,"用户列表：")],-1)),o={class:"checkedBox scrollBox"};var f={setup(e){const t=(e,a)=>e.map(e=>({...e,parentId:a||0,title:e.cn,key:e.id,children:e.children?t(e.children,e.id):[]})),a=t(n["a"]),r=[],f=Object(c["S"])(""),u=Object(c["S"])(),b=Object(c["S"])(2),y=Object(c["R"])({display:"flex",height:"30px",lineHeight:"30px"});return(e,t)=>{const n=Object(c["W"])("a-input"),O=Object(c["W"])("a-form-item"),p=Object(c["W"])("a-radio"),j=Object(c["W"])("a-radio-group"),g=Object(c["W"])("a-col"),k=Object(c["W"])("a-row");return Object(c["N"])(),Object(c["m"])("div",d,[Object(c["q"])(k,{type:"flex",gutter:20},{default:Object(c["ib"])(()=>[Object(c["q"])(g,{span:8},{default:Object(c["ib"])(()=>[Object(c["n"])("div",h,[s,l,Object(c["n"])("div",o,[Object(c["q"])(O,{label:"名称"},{default:Object(c["ib"])(()=>[Object(c["q"])(n,{value:e.search,"onUpdate:value":t[0]||(t[0]=t=>e.search=t),placeholder:"名称"},null,8,["value"])]),_:1}),Object(c["q"])(j,{value:b.value,"onUpdate:value":t[1]||(t[1]=e=>b.value=e)},{default:Object(c["ib"])(()=>[(Object(c["N"])(),Object(c["m"])(c["b"],null,Object(c["U"])(10,e=>Object(c["q"])(p,{style:Object(c["D"])(Object(c["db"])(y)),value:e,key:e},{default:Object(c["ib"])(()=>[Object(c["p"])("用户 "+Object(c["Z"])(e),1)]),_:2},1032,["style","value"])),64))]),_:1},8,["value"])])])]),_:1}),Object(c["q"])(g,{span:16},{default:Object(c["ib"])(()=>[Object(c["q"])(i["a"],{ref_key:"extendRef",ref:u,treeData:Object(c["db"])(a),editKey:r,userid:f.value},null,8,["treeData","userid"])]),_:1})]),_:1})])}}},u=(a("af3a"),a("6b0d")),b=a.n(u);const y=b()(f,[["__scopeId","data-v-1fefce29"]]);t["default"]=y},af3a:function(e,t,a){"use strict";a("f546")},ceb7:function(e,t,a){"use strict";var c=a("f2bf");const i=e=>(Object(c["Q"])("data-v-50d052da"),e=e(),Object(c["O"])(),e),n=i(()=>Object(c["n"])("div",{style:{"padding-top":"12px","font-weight":"bold"}},"节点分配 ",-1)),r={key:0},d={style:{color:"#f50"}},h={key:1},s=Object(c["p"])("暂无数据"),l=Object(c["p"])("暂无数据");function o(e,t,a,i,o,f){const u=Object(c["W"])("a-input-search"),b=Object(c["W"])("a-tree"),y=Object(c["W"])("a-empty"),O=Object(c["W"])("a-transfer");return Object(c["N"])(),Object(c["m"])(c["b"],null,[n,Object(c["q"])(O,{"data-source":e.dataSource,"target-keys":e.targetKeys,render:e=>e.title,"show-select-all":!1,onChange:e.onChange},{children:Object(c["ib"])(({direction:a,selectedKeys:i,onItemSelect:n})=>["left"===a?(Object(c["N"])(),Object(c["m"])(c["b"],{key:0},[Object(c["q"])(u,{value:e.searchValue,"onUpdate:value":t[0]||(t[0]=t=>e.searchValue=t),style:{"margin-bottom":"8px"},placeholder:"Search"},null,8,["value"]),e.leftTreeData.length?(Object(c["N"])(),Object(c["k"])(b,{key:0,blockNode:"",checkable:"","tree-data":e.leftTreeData,"checked-keys":e.leftCheckedKey,expandedKeys:e.expandedKeys,"auto-expand-parent":e.autoExpandParent,onCheck:(t,a)=>{e.handleLeftChecked(t,a,[...i,...e.targetKeys],n)},onExpand:e.onExpand},{title:Object(c["ib"])(({title:t})=>[t.indexOf(e.searchValue)>-1?(Object(c["N"])(),Object(c["m"])("span",r,[Object(c["p"])(Object(c["Z"])(t.substr(0,t.indexOf(e.searchValue)))+" ",1),Object(c["n"])("span",d,Object(c["Z"])(e.searchValue),1),Object(c["p"])(" "+Object(c["Z"])(t.substr(t.indexOf(e.searchValue)+e.searchValue.length)),1)])):(Object(c["N"])(),Object(c["m"])("span",h,Object(c["Z"])(t),1))]),_:2},1032,["tree-data","checked-keys","expandedKeys","auto-expand-parent","onCheck","onExpand"])):(Object(c["N"])(),Object(c["k"])(y,{key:1},{description:Object(c["ib"])(()=>[s]),_:1}))],64)):"right"===a?(Object(c["N"])(),Object(c["m"])(c["b"],{key:1},[e.rightTreeData.length?(Object(c["N"])(),Object(c["k"])(b,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.rightTreeData,"checked-keys":e.rightCheckedKey,"onUpdate:checked-keys":t[1]||(t[1]=t=>e.rightCheckedKey=t),"expanded-keys":e.rightExpandedKey,"onUpdate:expanded-keys":t[2]||(t[2]=t=>e.rightExpandedKey=t),onCheck:(t,a)=>{e.handleRightChecked(t,a,[...i,...e.targetKeys],n)}},null,8,["tree-data","checked-keys","expanded-keys","onCheck"])):(Object(c["N"])(),Object(c["k"])(y,{key:1},{description:Object(c["ib"])(()=>[l]),_:1}))],64)):Object(c["l"])("",!0)]),_:1},8,["data-source","target-keys","render","onChange"])],64)}var f=a("ed08"),u=Object(c["r"])({name:"OptionsTransfer",props:{treeData:{type:Array,default:()=>[]},editKey:{type:Array,default:()=>[]},userid:{type:String,default:()=>""}},data(){return{searchValue:"",targetKeys:[],dataSource:[],leftCheckedKey:[],leftHalfCheckedKeys:[],leftCheckedAllKey:[],leftTreeData:[],expandedKeys:[],rightCheckedKey:[],rightCheckedAllKey:[],rightExpandedKey:[],rightTreeData:[],autoExpandParent:!1,emitKeys:[],deepList:[]}},watch:{searchValue:{handler(e){if(e){const t=this.dataSource.map(t=>t.nodeName.indexOf(e)>-1?this.getParentKey(t.key,this.dataSource):null).filter((e,t,a)=>e&&a.indexOf(e)===t);this.expandedKeys=t,this.searchValue=e,this.autoExpandParent=!0}else this.expandedKeys=[]}},userid:{deep:!0,handler(e){this.processTreeData()}}},created(){this.processTreeData()},methods:{onExpand(e){this.expandedKeys=e,this.autoExpandParent=!1},getParentKey(e,t){let a;for(let c=0;c<t.length;c++){const i=t[c];i.children&&(i.children.some(t=>t.key===e)?a=i.key:this.getParentKey(e,i.children)&&(a=this.getParentKey(e,i.children)))}return a},onSearch(){},processTreeData(){this.dataSource=[],this.targetKeys=[],this.leftCheckedKey=[],this.leftHalfCheckedKeys=[],this.leftCheckedAllKey=[],this.leftTreeData=[],this.rightCheckedKey=[],this.rightCheckedAllKey=[],this.rightExpandedKey=[],this.rightTreeData=[],Object(f["b"])(Object(f["a"])(this.treeData),this.dataSource),this.editKey.length?this.processEditData():this.leftTreeData=Object(f["e"])(Object(f["a"])(this.treeData),this.leftCheckedKey)},processEditData(){this.leftCheckedAllKey=this.editKey,this.rightExpandedKey=this.editKey,this.targetKeys=this.editKey,this.rightTreeData=Object(f["f"])(Object(f["a"])(this.treeData),this.editKey),Object(f["c"])(this.deepList,this.treeData),this.leftCheckedKey=Object(f["i"])(this.editKey,this.deepList),this.leftHalfCheckedKeys=this.leftCheckedAllKey.filter(e=>-1===this.leftCheckedKey.indexOf(e)),this.leftTreeData=Object(f["e"])(Object(f["a"])(this.treeData),this.leftCheckedKey),this.emitKeys=this.rightExpandedKey},onChange(e,t){console.log(t),"right"===t?(this.targetKeys=this.leftCheckedAllKey,this.rightCheckedKey=[],this.rightTreeData=Object(f["f"])(Object(f["a"])(this.treeData),this.leftCheckedAllKey,"right"),this.leftTreeData=Object(f["e"])(Object(f["a"])(this.treeData),this.leftCheckedKey,"right")):"left"===t&&(this.rightTreeData=Object(f["f"])(this.rightTreeData,this.rightCheckedKey,"left"),this.leftTreeData=Object(f["e"])(this.leftTreeData,this.rightCheckedKey,"left"),this.leftCheckedKey=this.leftCheckedKey.filter(e=>-1===this.rightCheckedKey.indexOf(e)),this.targetKeys=this.targetKeys.filter(e=>-1===this.rightCheckedKey.indexOf(e)),this.leftHalfCheckedKeys=this.leftHalfCheckedKeys.filter(e=>-1===this.rightCheckedKey.indexOf(e)),this.rightCheckedKey=[]),this.rightExpandedKey=Object(f["d"])(this.rightTreeData),this.emitKeys=this.rightExpandedKey},handleLeftChecked(e,{node:t,halfCheckedKeys:a},c,i){this.leftCheckedKey=e,this.leftHalfCheckedKeys=[...new Set([...this.leftHalfCheckedKeys,...a])],this.leftCheckedAllKey=[...new Set([...this.leftHalfCheckedKeys,...a,...e])];const{eventKey:n}=t;i(n,!Object(f["g"])(c,n))},handleRightChecked(e,{node:t,halfCheckedKeys:a},c,i){this.rightCheckedKey=e,this.rightCheckedAllKey=[...a,...e];const{eventKey:n}=t;i(n,Object(f["g"])(e,n))}}}),b=(a("e41a"),a("6b0d")),y=a.n(b);const O=y()(u,[["render",o],["__scopeId","data-v-50d052da"]]);t["a"]=O},e41a:function(e,t,a){"use strict";a("f484")},ed08:function(e,t,a){"use strict";function c(e,t){if(0===arguments.length||!e)return null;const a=t||"{y}-{m}-{d} {h}:{i}:{s}";let c;"object"===typeof e?c=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),c=new Date(e));const i={y:c.getFullYear(),m:c.getMonth()+1,d:c.getDate(),h:c.getHours(),i:c.getMinutes(),s:c.getSeconds(),a:c.getDay()},n=a.replace(/{([ymdhisa])+}/g,(e,t)=>{const a=i[t];return"a"===t?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")});return n}a.d(t,"h",(function(){return c})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return s})),a.d(t,"i",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"e",(function(){return f})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return b}));var i=function(){return i=Object.assign||function(e){for(var t,a=1,c=arguments.length;a<c;a++)for(var i in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};function n(e){return JSON.parse(JSON.stringify(e))}function r(e,t){void 0===t&&(t=!1);var a=[],c=[];a=a.concat(JSON.parse(JSON.stringify(e)));while(a.length){var i=a.shift();(null===i||void 0===i?void 0:i.children)&&(a=a.concat(i.children),t||delete i.children),c.push(i)}return c}function d(e,t,a,c){return void 0===a&&(a=0),void 0===c&&(c="parentId"),e.forEach((function(n){var r;if(n[c]===a){var h=i(i({},n),{children:[]});d(e,h.children,n.id,c),(null===(r=h.children)||void 0===r?void 0:r.length)||delete h.children,t.push(h)}})),t}function h(e){var t=r(e);return t.map((function(e){return e.key}))}function s(e,t){return null===t||void 0===t||t.forEach((function(t){var a;(null===(a=null===t||void 0===t?void 0:t.children)||void 0===a?void 0:a.length)?s(e,t.children):e.push(t.key)})),e}function l(e,t){var a=[];for(var c in t)for(var i in e)e[i]===t[c]&&a.push(e[i]);return a}function o(e,t){return-1!==e.indexOf(t)}function f(e,t,a){return void 0===a&&(a="right"),e.forEach((function(e){"right"===a?e.disabled=t.includes(e.key):"left"===a&&e.disabled&&t.includes(e.key)&&(e.disabled=!1),e.children&&f(e.children,t,a)})),e}function u(e,t,a){console.log(e),console.log(t),void 0===a&&(a="right");var c=r(e),n=[],h=[];return c.forEach((function(e){if("right"===a){if(t.includes(e.key)){var c=i({},e);c.children&&delete c.children,n.push(i({},c))}}else if("left"===a&&!t.includes(e.key)){c=i({},e);c.children&&delete c.children,n.push(i({},c))}})),d(n,h,0),h}function b(e,t){return e.forEach((function(e){t.push(e),e.children&&b(e.children,t)})),t}},f484:function(e,t,a){},f546:function(e,t,a){}}]);